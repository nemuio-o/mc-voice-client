<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ™ï¸ Minecraft Voice Chat</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);color:#eee;font-family:'Segoe UI',system-ui,sans-serif;min-height:100vh;padding:20px}
    .container{max-width:1400px;margin:0 auto}
    #authScreen{max-width:400px;margin:100px auto;background:#0f3460;padding:40px;border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,0.3)}
    #authScreen h1{text-align:center;margin-bottom:30px;color:#e94560}
    .form-group{margin-bottom:20px}
    label{display:block;margin-bottom:8px;color:#ddd;font-size:14px}
    input{width:100%;padding:12px;border:2px solid #16213e;border-radius:8px;background:#1a1a2e;color:#eee;font-size:16px}
    input:focus{outline:none;border-color:#e94560}
    button{width:100%;padding:14px;background:#e94560;color:white;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all 0.3s}
    button:hover{background:#c13650;transform:translateY(-2px);box-shadow:0 4px 12px rgba(233,69,96,0.4)}
    button:disabled{background:#555;cursor:not-allowed;transform:none}
    .toggle-auth{text-align:center;margin-top:20px;color:#aaa;font-size:14px}
    .toggle-auth a{color:#e94560;text-decoration:none;cursor:pointer}
    .error,.success{padding:12px;border-radius:8px;margin-bottom:20px;display:none}
    .error{background:#c13650;color:white}
    .success{background:#48bb78;color:white}
    #mainApp{display:none}
    .header{background:#0f3460;padding:20px;border-radius:12px;margin-bottom:20px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:15px}
    .header h1{color:#e94560;font-size:24px}
    .controls{display:flex;gap:12px;flex-wrap:wrap}
    .btn{padding:8px 16px;background:#16213e;border:2px solid #e94560;color:#eee;border-radius:6px;cursor:pointer;font-size:14px;transition:all 0.3s}
    .btn:hover{background:#e94560;color:white}
    .btn-active{background:#e94560;color:white}
    .ptt-btn{width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,#e94560 0%,#c13650 100%);border:4px solid #0f3460;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:2em;transition:all 0.2s;box-shadow:0 4px 16px rgba(233,69,96,0.4)}
    .ptt-btn:hover{transform:scale(1.05)}
    .ptt-btn:active{transform:scale(0.95);box-shadow:0 2px 8px rgba(233,69,96,0.6)}
    .ptt-active{animation:pttPulse 1s infinite;background:linear-gradient(135deg,#48bb78 0%,#38a169 100%);border-color:#48bb78}
    @keyframes pttPulse{0%,100%{box-shadow:0 0 0 0 rgba(72,187,120,0.7)}50%{box-shadow:0 0 0 20px rgba(72,187,120,0)}}
    .panel{background:#0f3460;padding:20px;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,0.2);margin-bottom:20px}
    .panel h3{color:#e94560;margin-bottom:15px;font-size:18px}
    .radio-channel{background:#16213e;padding:12px;border-radius:8px;margin-bottom:10px;border-left:4px solid #e94560}
    .radio-channel h4{color:#e94560;margin-bottom:8px}
    .radio-member{padding:6px 12px;background:#1a1a2e;border-radius:6px;display:inline-block;margin:4px;font-size:13px}
    .radio-input-group{display:flex;gap:8px;margin-top:15px}
    .radio-input-group input{flex:1}
    .radio-input-group button{width:auto;padding:12px 20px}
    .hidden{display:none!important}
    .info-box{background:#16213e;padding:15px;border-radius:8px;border-left:4px solid #4299e1;margin:15px 0}
  </style>
</head>
<body>
  <div id="authScreen">
    <h1>ğŸ™ï¸ Minecraft Voice Chat</h1>
    <div id="authError" class="error"></div>
    <div id="authSuccess" class="success"></div>
    <div id="loginForm">
      <div class="form-group">
        <label>ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
        <input type="text" id="loginUsername" placeholder="username" />
      </div>
      <div class="form-group">
        <label>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
        <input type="password" id="loginPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
      </div>
      <button id="loginBtn">ãƒ­ã‚°ã‚¤ãƒ³</button>
      <div class="toggle-auth">
        ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„æ–¹ã¯ <a id="showRegister">æ–°è¦ç™»éŒ²</a>
      </div>
    </div>
    <div id="registerForm" class="hidden">
      <div class="info-box">
        âš ï¸ å…ˆã«Minecraftã‚µãƒ¼ãƒãƒ¼ã«å‚åŠ ã—ã¦ã€ã‚²ãƒ¼ãƒ å†…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨åŒã˜åå‰ã§ç™»éŒ²ã—ã¦ãã ã•ã„
      </div>
      <div class="form-group">
        <label>ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆMinecraftå†…ã¨åŒã˜ï¼‰</label>
        <input type="text" id="registerUsername" placeholder="username" />
      </div>
      <div class="form-group">
        <label>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
        <input type="password" id="registerPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
      </div>
      <button id="registerBtn">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ</button>
      <div class="toggle-auth">
        ã™ã§ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã®æ–¹ã¯ <a id="showLogin">ãƒ­ã‚°ã‚¤ãƒ³</a>
      </div>
    </div>
  </div>
  <div id="mainApp" class="container">
    <div class="header">
      <div>
        <h1>ğŸ™ï¸ Minecraft Voice Chat</h1>
        <span>ãƒ¦ãƒ¼ã‚¶ãƒ¼: <strong id="currentUsername"></strong></span>
      </div>
      <div class="controls">
        <button class="btn" id="micToggle">ğŸ¤ ãƒã‚¤ã‚¯: OFF</button>
        <button class="btn" id="logoutBtn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
      </div>
    </div>
    <div style="display:grid;grid-template-columns:1fr 2fr;gap:20px">
      <div class="panel" style="text-align:center">
        <h3>ğŸ“» ãƒ©ã‚¸ã‚ªPTT</h3>
        <div style="margin:20px 0">
          <button class="ptt-btn" id="pttBtn">
            <span id="pttIcon">ğŸ“»</span>
          </button>
        </div>
        <p style="color:#aaa;font-size:14px">æŠ¼ã—ã¦ã„ã‚‹é–“ã ã‘é€ä¿¡</p>
      </div>
      <div class="panel">
        <h3>ğŸ“» ãƒ©ã‚¸ã‚ªãƒãƒ£ãƒ³ãƒãƒ«</h3>
        <div id="currentRadio" class="hidden">
          <div class="radio-channel">
            <h4>ğŸ“» <span id="currentRadioName"></span></h4>
            <div id="currentRadioMembers"></div>
            <button class="btn" id="leaveRadioBtn" style="width:100%;margin-top:10px">é€€å‡º</button>
          </div>
        </div>
        <div id="noRadio">
          <p style="color:#aaa">ãƒ©ã‚¸ã‚ªã«å‚åŠ ã—ã¦ã„ã¾ã›ã‚“</p>
        </div>
        <div class="radio-input-group">
          <input type="text" id="radioChannelInput" placeholder="ãƒãƒ£ãƒ³ãƒãƒ«åã‚’å…¥åŠ›" />
          <button id="joinRadioBtn">å‚åŠ </button>
        </div>
      </div>
    </div>
  </div>
  <script src="/app-improved.js"></script>
</body>
</html>
